.\" Automatically generated by Pandoc 3.0
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "dump-rdm-records.bash" "" "August 17, 2022" "dump-rdm-records.bash user manual" ""
.hy
.SH NAME
.PP
dump-rdm-records.bash
.SH SYNOPSIS
.PP
dump-rdm-records.bash REPO_ID
.SH DESCRIPTION
.PP
Dump the Postgres database for an Invenio RDM instance.
The resulting SQL files will include a datestamp in their name and be
saved to a directory called \[lq]sql-dumps\[rq].
.SH SETUP
.PP
This script loads a configuration environment based on the repository
name.
The configuration file looks like this
.IP
.nf
\f[C]
export DB_NAME=\[dq]<DB_NAME_GOES_HERE>\[dq]
export DB_USERNAME=\[dq]<DB_USERNAME_GOES_HERE>\[dq]
\f[R]
.fi
.PP
You\[cq]d replace the contents in the angle brackes with appropriate
values.
The repository id (name) is included in the name of the configuration
file.
E.g.
caltechauthors repository name would use a configuration file of
\[lq]caltechauthors_postgres_env.cfg\[rq].
.SH EXAMPLES
.PP
Backup the Postgres running for caltechdata running on CaltechDATA.
.IP
.nf
\f[C]
     sudo -u ubuntu dump-rdm-records.bash caltechdata
\f[R]
.fi
.SH AUTHORS
R. S. Doiel.
